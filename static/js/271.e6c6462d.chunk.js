"use strict";(self.webpackChunksamurai_way=self.webpackChunksamurai_way||[]).push([[271],{4271:function(e,n,s){s.r(n),s.d(n,{default:function(){return g}});var r=s(9439),t=s(2791),i=s(2962),u=s(9015),c=s(1536),a=s(3280),l=s(9529),o="ChatPage_container__2f+y9",d=s(4048),h=s(6243),f=s(184),v=function(){var e=(0,h.T)();return(0,t.useEffect)((function(){return e((0,a.WE)()),function(){e((0,a.R7)())}}),[e]),(0,f.jsxs)("div",{children:[(0,f.jsx)(x,{}),(0,f.jsx)(m,{})]})},x=function(){var e=(0,d.C)((function(e){return e.chat.messages})),n=(0,t.useRef)(null),s=(0,t.useState)(!0),i=(0,r.Z)(s,2),u=i[0],c=i[1];return(0,t.useEffect)((function(){var e;u&&(null===(e=n.current)||void 0===e||e.scrollIntoView({block:"end",behavior:"smooth"}))}),[e,u]),(0,f.jsxs)("div",{style:{height:400,overflowY:"auto"},onScroll:function(e){var n=e.currentTarget;n.scrollHeight-n.scrollTop===n.clientHeight?!u&&c(!0):u&&c(!1)},children:[null===e||void 0===e?void 0:e.map((function(e,n){return(0,f.jsx)(j,{message:e},n)})),(0,f.jsx)("div",{ref:n})]})},j=t.memo((function(e){var n=e.message;return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("hr",{}),(0,f.jsxs)("div",{style:{display:"flex",margin:"15px 5px"},children:[(0,f.jsxs)("div",{style:{minWidth:100},children:[(0,f.jsx)(i.C,{size:60,src:n.photo,icon:(0,f.jsx)(l.Z,{})}),(0,f.jsxs)("div",{children:[" ",n.userName]})]}),(0,f.jsx)("div",{style:{width:"210px"},children:n.message})]})]})})),m=function(){var e=(0,t.useState)(""),n=(0,r.Z)(e,2),s=n[0],i=n[1],l=(0,h.T)(),o=(0,d.C)((function(e){return e.chat.status}));return(0,f.jsxs)("div",{children:[(0,f.jsx)(c.Z,{style:{width:200,height:25,resize:"none"},onChange:function(e){return i(e.currentTarget.value)},value:s}),(0,f.jsx)(u.Z,{onClick:function(){s&&(l((0,a.bG)(s)),i(""))},disabled:"ready"!==o,children:" Send message "})]})},g=function(){return(0,f.jsx)("div",{className:o,children:(0,f.jsx)(v,{})})}}}]);
//# sourceMappingURL=271.e6c6462d.chunk.js.map