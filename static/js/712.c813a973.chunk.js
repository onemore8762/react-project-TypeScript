"use strict";(self.webpackChunksamurai_way=self.webpackChunksamurai_way||[]).push([[712],{712:function(t,s,e){e.r(s),e.d(s,{default:function(){return F}});var n=e(5671),i=e(3144),r=e(136),o=e(5716),u=e(2791),a=e(7781),l="ProfileInfo_descriptionBlock__XBXuJ",d=e(5813),p=e(885),c=e(184),f=function(t){var s=(0,u.useState)(!1),e=(0,p.Z)(s,2),n=e[0],i=e[1],r=(0,u.useState)(t.status),o=(0,p.Z)(r,2),a=o[0],l=o[1];(0,u.useEffect)((function(){l(a)}),[t.status]);var d=function(){i(!1),t.updateStatus(a)};return(0,c.jsxs)(c.Fragment,{children:[!n&&(0,c.jsx)("div",{children:(0,c.jsx)("span",{onDoubleClick:function(){i(!0)},children:t.status||"Not status"})}),n&&(0,c.jsx)("div",{children:(0,c.jsx)("input",{onKeyDown:function(t){"Enter"===t.key&&d()},onChange:function(t){l(t.currentTarget.value)},autoFocus:!0,onBlur:d,value:a})})]})},h=function(t){var s;return t.profile?(0,c.jsxs)("div",{children:[(0,c.jsx)("div",{children:(0,c.jsx)("img",{src:"https://interier-foto.ru/wp-content/uploads/dlinnye-foto-4.jpg",width:"950px",alt:"photo"})}),(0,c.jsx)("h2",{children:t.profile.fullName}),(0,c.jsxs)("div",{className:l,children:[(0,c.jsx)("img",{src:null===(s=t.profile)||void 0===s?void 0:s.photos.large,alt:"userPhoto"}),(0,c.jsx)(f,{status:t.status,updateStatus:t.updateStatus})]})]}):(0,c.jsx)(d.p,{})},j=e(81),x="MyPosts_postsBlock__lB-pf",m="MyPosts_posts__GSiZ2",v="Posts_item__jWd++",g=function(t){return(0,c.jsxs)("div",{className:v,children:[(0,c.jsx)("img",{src:"https://i.pinimg.com/originals/9c/77/46/9c7746225873e02d83b9315501b8dd2f.jpg",alt:"photo"}),t.message,(0,c.jsx)("div",{children:(0,c.jsxs)("span",{children:["like ",t.like]})})]})},S=e(6139),P=e(704),k=e(3079),_=e(1117),y=(0,k.B)(10),b=u.memo((function(t){var s=t.addPost,e=t.posts;return(0,c.jsxs)("div",{className:x,children:["MyPosts",(0,c.jsx)(w,{onSubmit:function(t){s(t.newPostText)}}),(0,c.jsx)("div",{className:m,children:e.map((function(t){return(0,c.jsx)(g,{message:t.message,like:t.likesCount},t.id)}))})]})})),w=(0,P.Z)({form:"Posts"})((function(t){return(0,c.jsxs)("form",{onSubmit:t.handleSubmit,children:[(0,c.jsx)("div",{children:(0,c.jsx)(S.Z,{placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u043e\u0441\u0442",name:"newPostText",component:_.g,validate:[k.C,y]})}),(0,c.jsx)("div",{children:(0,c.jsx)("button",{children:"Add"})})]})})),Z=e(8687),C=(0,Z.$j)((function(t){return{posts:t.profilePage.posts}}),(function(t){return{addPost:function(s){t((0,j.hB)(s))}}}))(b),N=function(t){return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(h,{profile:t.profile,status:t.status,updateStatus:t.updateStatus}),(0,c.jsx)(C,{})]})},B=e(9271),I=function(t){(0,r.Z)(e,t);var s=(0,o.Z)(e);function e(){return(0,n.Z)(this,e),s.apply(this,arguments)}return(0,i.Z)(e,[{key:"componentDidMount",value:function(){var t,s=this.props.match.params.userId;s||((s=null===(t=this.props.authorizedUserId)||void 0===t?void 0:t.toString())||this.props.history.push("/login"));s&&(this.props.getUserProfile(s),this.props.getStatus(s))}},{key:"render",value:function(){return(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(N,{profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus})})}}]),e}(u.Component),F=(0,a.qC)((0,Z.$j)((function(t){return{profile:t.profilePage.profile,status:t.profilePage.status,authorizedUserId:t.auth.userId}}),{getUserProfile:j.et,getStatus:j.lR,updateStatus:j.Nf}),B.EN)(I)}}]);
//# sourceMappingURL=712.c813a973.chunk.js.map